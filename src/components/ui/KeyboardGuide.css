.kbd-guide-overlay {
    position: fixed; inset: 0; background: rgba(0, 0, 0, 0.75); z-index: 9000;
    display: flex; align-items: center; justify-content: center;
    animation: kbd-fade-in 0.2s ease;
}
@keyframes kbd-fade-in { from { opacity: 0; } to { opacity: 1; } }

.kbd-guide-panel {
    position: relative; background: rgb(var(--dark-bg-rgb) / 0.95);
    border: 1px solid var(--neon-cyan); border-radius: 12px;
    padding: 28px 32px; max-width: 460px; width: 90%;
    box-shadow: 0 0 40px rgb(var(--neon-cyan-rgb) / 0.25);
}
.kbd-guide-close {
    position: absolute; top: 10px; right: 14px; background: none; border: none;
    color: #888; font-size: 18px; cursor: pointer;
}
.kbd-guide-close:hover { color: #fff; }
.kbd-guide-title {
    font-family: var(--font-display); font-size: 16px; letter-spacing: 3px;
    color: var(--neon-cyan); margin: 0 0 20px; text-align: center;
}

.kbd-guide-list {
    display: flex; flex-direction: column; gap: 10px;
}
.kbd-guide-row {
    display: grid; grid-template-columns: 110px 1fr auto; align-items: center; gap: 12px;
    padding: 6px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}
.kbd-guide-row:last-child { border-bottom: none; }

.kbd-guide-keys {
    display: flex; align-items: center; gap: 4px; flex-wrap: wrap;
}
.kbd-guide-keys kbd {
    display: inline-block; background: rgb(var(--neon-cyan-rgb) / 0.1);
    border: 1px solid rgb(var(--neon-cyan-rgb) / 0.35); border-radius: 5px;
    padding: 2px 8px; font-family: var(--font-display); font-size: 12px;
    color: var(--neon-cyan); min-width: 24px; text-align: center;
    box-shadow: 0 2px 0 rgb(var(--neon-cyan-rgb) / 0.15);
}
.kbd-guide-sep { color: rgba(255, 255, 255, 0.3); font-size: 11px; margin: 0 1px; }
.kbd-guide-action { color: rgba(255, 255, 255, 0.85); font-size: 13px; }
.kbd-guide-context {
    font-size: 10px; color: rgba(255, 255, 255, 0.35); text-transform: uppercase;
    letter-spacing: 0.5px; text-align: right;
}

.kbd-guide-hint {
    margin: 18px 0 0; text-align: center; font-size: 11px;
    color: rgba(255, 255, 255, 0.35);
}
.kbd-guide-hint kbd {
    display: inline-block; background: rgb(var(--neon-cyan-rgb) / 0.08);
    border: 1px solid rgb(var(--neon-cyan-rgb) / 0.25); border-radius: 4px;
    padding: 1px 6px; font-family: var(--font-display); font-size: 11px;
    color: var(--neon-cyan);
}

@media (max-width: 480px) {
    .kbd-guide-panel { padding: 20px 16px; }
    .kbd-guide-row { grid-template-columns: 90px 1fr; gap: 8px; }
    .kbd-guide-context { display: none; }
}
